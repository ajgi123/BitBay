(this.webpackJsonpbitbay=this.webpackJsonpbitbay||[]).push([[0],{10:function(e,t,n){e.exports={list_element:"ListElement_list_element__lxRrk",active:"ListElement_active__1zbHk"}},16:function(e,t,n){},17:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),u=n.n(a),o=n(11),s=n.n(o),i=(n(16),n(17),n(5)),l=n.n(i),p=n(2),d=function(e){var t=Object(a.useRef)(!1);return Object(a.useLayoutEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),Object(a.useCallback)((function(){for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];t.current&&e.call.apply(e,[null].concat(r))}),[e])};function f(e,t){switch(t.type){case r.pending:return{status:r.pending,data:null,error:null};case r.resolved:return{status:r.resolved,data:t.data,error:null};case r.rejected:return{status:r.rejected,data:null,error:t.error};default:throw new Error("Unhandled action type")}}!function(e){e.pending="pending",e.resolved="resolved",e.rejected="rejected"}(r||(r={})),function(e){e.idle="idle"}(c||(c={}));var b,j=function(e){var t=Object(a.useReducer)(f,{status:c.idle,data:e,error:null}),n=Object(p.a)(t,2),u=n[0],o=n[1],s=d(o),i=u.data;return{error:u.error,status:u.status,data:i,runAsync:Object(a.useCallback)((function(e){s({type:r.pending}),e.then((function(e){s({type:r.resolved,data:e})}),(function(e){s({type:r.rejected,error:e})}))}),[s]),setState:Object(a.useCallback)((function(e){s({type:r.resolved,data:e})}),[s]),setError:Object(a.useCallback)((function(e){s({type:r.rejected,error:e})}),[s])}},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Array,r=j(n),c=r.error,u=r.status,o=r.data,s=r.runAsync,i=Object(a.useState)(""),l=Object(p.a)(i,2),d=l[0],f=l[1],b=Object(a.useState)(!1),h=Object(p.a)(b,2),v=h[0],m=h[1],O=Object(a.useRef)(void 0);Object(a.useEffect)((function(){return d.length>=t&&s(function(){var t=e(d);return O.current=t,t}()),function(){O.current&&O.current.cancel()}}),[d,s,e,t]);var g=function(e){f(e.target.value)},w=function(){m(!0)},x=function(){m(!1)};return{error:c,status:u,data:o,setInput:f,input:d,changeHandler:g,blurHandler:x,focusHandler:w,isShown:v,setIsShown:m}};!function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.Enter="Enter"}(b||(b={}));var v=function(e,t){var n=Object(a.useState)(!1),r=Object(p.a)(n,2),c=r[0],u=r[1],o=Object(a.useCallback)((function(n){n.key!==b.ArrowDown?(n.key===b.ArrowUp&&u((function(e){return"boolean"===typeof e||e<=0?0:e-1})),n.key===b.Enter&&t()):u((function(t){return"boolean"===typeof t?0:t>=e?e:t+1}))}),[e,t]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}),[o]),{cursor:c,setCursor:u}},m=n(9),O=n.n(m),g=n(1),w=function(e){var t=h(e.fetchData,e.minTextLength),n=t.error,c=t.status,u=t.data,o=t.input,s=t.changeHandler,i=t.isShown,p=t.focusHandler,d=t.blurHandler,f=v(u?u.length-1:0,(function(){e.enterhandler(u,b)})),b=f.cursor,j=f.setCursor,m=Object(a.useRef)(null);return Object(a.useEffect)((function(){j(!1)}),[o,j]),m.current&&m.current.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),Object(g.jsxs)("div",{className:l.a.container,children:[Object(g.jsx)("input",{type:"text",value:o,onChange:s,onFocus:p,onBlur:d,className:l.a.input}),i&&o.length>=e.minTextLength&&Object(g.jsxs)("div",{className:l.a.dropdown,"data-testid":"autocomplete__dropdown",children:[c===r.pending&&Object(g.jsx)(O.a,{"data-testid":"autocomplete__loading"}),c===r.rejected&&"AbortError"===n.name&&Object(g.jsx)(O.a,{}),u&&(u.length<=0?Object(g.jsx)("p",{children:"No results"}):Object(g.jsx)("ol",{className:l.a.list,children:u.map((function(t,n){return e.mapFunc(n,b,m,t)}))})),c===r.rejected&&"AbortError"!==n.name&&Object(g.jsx)("p",{children:"Something went wrong"})]})]})},x=n(3),y=n.n(x),_=n(4),k=function(){var e=Object(_.a)(y.a.mark((function e(t,n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.github.com/search/repositories?q=".concat(t,"&per_page=30"),n);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(r.status));case 6:return e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c.items);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(_.a)(y.a.mark((function e(t,n){var r,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.github.com/search/users?q=".concat(t,"&per_page=30"),n);case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",Promise.reject(r.status));case 6:return e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c.items);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),E=n(6),C=function(e,t){return e.sort((function(e,n){var r=e[t],c=n[t];return r>c?1:r<c?-1:0}))},L=function(e,t,n,r){for(var c=[],a=0,u=0;a<e.length||u<n.length;){var o=e[a],s=n[u];a>=e.length?(c.push(Object(E.a)({},n[u])),u++):u>=n.length||o[t]<s[r]?(c.push(Object(E.a)({},e[a])),a++):(c.push(Object(E.a)({},n[u])),u++)}return console.log(c),c},S=function(e){var t=new AbortController,n=t.signal,r=new Promise(function(){var t=Object(_.a)(y.a.mark((function t(r,c){var a,u,o,s,i,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([k(e,{signal:n}),A(e,{signal:n})]);case 3:a=t.sent,u=Object(p.a)(a,2),o=u[0],s=u[1],i=C(o,"name"),l=C(s,"login"),r(L(i,"name",l,"login")),t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",c(t.t0));case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}());return r.cancel=function(){return t.abort()},r},P=n(10),F=n.n(P),H=u.a.forwardRef((function(e,t){var n=F.a.list_element;return e.isActive&&(n="".concat(n," ").concat(F.a.active)),Object(g.jsxs)("li",{ref:t,className:n,children:[Object(g.jsx)("h3",{children:e.title}),Object(g.jsx)("h4",{children:e.name})]})})),N=function(e,t,n,r){return r.hasOwnProperty("name")?Object(g.jsx)(H,{title:"repo",name:r.name,isActive:e===t,ref:e===t?n:null},r.id):Object(g.jsx)(H,{title:"user",name:r.login,isActive:e===t,ref:e===t?n:null},r.id)},D=function(e,t){"number"===typeof t&&e&&function(e){var t=window.open(e,"_blank","noopener,noreferrer");t&&(t.opener=null)}(e[t].html_url)};var R=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)(w,{fetchData:S,minTextLength:3,mapFunc:N,enterhandler:D})})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,u=t.getTTFB;n(e),r(e),c(e),a(e),u(e)}))};s.a.render(Object(g.jsx)(u.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root")),T()},5:function(e,t,n){e.exports={container:"AutoComplete_container__2dEfY",input:"AutoComplete_input__10qTd",dropdown:"AutoComplete_dropdown__1d95z",list:"AutoComplete_list__2ni13"}}},[[27,1,2]]]);
//# sourceMappingURL=main.d865eab7.chunk.js.map